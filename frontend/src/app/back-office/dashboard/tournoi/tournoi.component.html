<!-- back-office/components/dashboard/tournoi/tournoi.component.html -->
<div class="form-wrapper">
  <h1 class="admin-title">
    <i class="fas fa-trophy me-2"></i> Liste des Tournois
  </h1>

  <div class="actions" style="text-align: right; margin: 1rem 0;">
    <button class="btn btn-primary" (click)="onAddTournoi()">
      <i class="fas fa-plus me-2"></i> Ajouter Tournoi
    </button>
  </div>

  <!-- Filters and Search -->
  <div class="filters">
    <div class="filter-group">
      <label for="classementFilter">Filtrer par classement :</label>
      <select id="classementFilter" class="form-select" [(ngModel)]="classementFilter" (change)="filterTournois()">
        <option value="">Tous</option>
        <option value="Amateur">Amateur</option>
        <option value="Professionnel">Professionnel</option>
        <!-- Ajoute d'autres options selon les classements possibles -->
      </select>
    </div>
    <div class="search-group">
      <input
        type="text"
        placeholder="Rechercher par nom ou lieu..."
        [(ngModel)]="searchQuery"
        (input)="filterTournois()"
        class="search-input"
      />
      <span class="search-icon"><i class="fas fa-search"></i></span>
    </div>
  </div>

  <!-- Alerts -->
  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
    <button type="button" class="alert-close" (click)="successMessage = null">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
    <button type="button" class="alert-close" (click)="errorMessage = null">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <div class="table-wrapper">
    <table class="tournoi-table">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Date</th>
          <th>Lieu</th>
          <th>Classement</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tournoi of paginatedTournois">
          <td>{{ tournoi.nom }}</td>
          <td>{{ tournoi.date | date:'mediumDate' }}</td>
          <td>{{ tournoi.lieu }}</td>
          <td>{{ tournoi.classement }}</td>
          <td class="d-flex align-items-center gap-2">
            <button
              class="btn btn-danger btn-sm"
              (click)="tournoi.id !== undefined ? onDeleteTournoi(tournoi.id) : null"
              title="Supprimer le tournoi"
            >
              <i class="fas fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="filteredTournois.length === 0" class="no-tournois">
      <p>Aucun tournoi trouvé.</p>
    </div>

    <!-- Pagination -->
    <div class="pagination" *ngIf="filteredTournois.length > 0">
      <button class="btn btn-secondary" [disabled]="currentPage === 1" (click)="previousPage()">
        <i class="fas fa-chevron-left me-1"></i> Précédent
      </button>
      <span class="page-info">
        Page {{ currentPage }} sur {{ totalPages }}
      </span>
      <button class="btn btn-secondary" [disabled]="currentPage === totalPages" (click)="nextPage()">
        Suivant <i class="fas fa-chevron-right me-1"></i>
      </button>
    </div>
  </div>
</div>
